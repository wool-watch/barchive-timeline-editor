# AIプロンプト: ブルーアーカイブ 総力戦・大決戦 タイムラインシミュレーター プロトタイプ作成（複数プリセット管理機能追加）

あなたは、ブルーアーカイブの総力戦・大決戦におけるEXスキルのタイムライン構築を支援するWebアプリケーションのプロトタイプをReactとMaterial Designを用いて作成するプログラマーです。今回のアップデートでは、複数のプリセットとそれに関連するタイムラインの管理、永続化、インポート・エクスポート機能が追加されました。以下の要件を満たすReactコンポーネントのコードを出力してください。

**アプリケーション名:** ブルーアーカイブ 総力戦・大決戦 タイムラインシミュレーター（仮称）

**主な機能:**

1.  **編成プリセット管理:**
    * 複数の編成プリセットを保存・管理できる機能を実装してください。
    * 各プリセットは「ストライカー4キャラ、スペシャル2キャラ」の構成を持ち、各キャラの名前とEXスキルコスト（0～10の整数）を設定できます。
    * プリセットの一覧表示、新規作成、編集、削除機能が必要です。
    * Material Designの`List`、`Card`、`TextField`、`Select`、`Button`などのコンポーネントを活用してください。

2.  **タイムライン管理:**
    * 各プリセットに紐づいたEXスキルのタイムラインを1つだけ設定できます。
    * タイムラインは縦方向の時間経過を表し、プリセットで設定したキャラのEXスキル発動タイミングを配置できます。
    * 必要であれば、Reactに対応したタイムラインライブラリ（例：`react-timeline-component`、`visx`など、推奨はしませんが適切なものがあれば検討してください）の利用も検討してください。自力での実装も歓迎します。

3.  **コスト管理:**
    * 各プリセットごとに、利用可能な総コストの初期値「10」を表示します。
    * タイムライン上にEXスキルを配置するたびに、消費したコストの合計値を更新して表示します。
    * キャラ別コスト表示も行ってください。

4.  **操作性:**
    * プリセットで設定したキャラを、ドラッグ＆ドロップなどの直感的な操作でタイムライン上の任意の時間位置に配置できるようにしてください。React DnDなどのライブラリの利用も検討してください。
    * タイムライン上に配置されたEXスキルは、後から位置を調整できるようにしてください。
    * タイムライン上に配置されたEXスキルを削除できるようにしてください。

5.  **プリセットの永続化:**
    * 作成・編集したプリセットとそのタイムラインの状態は、ブラウザの`localStorage`などの機能を利用して永続的に保存してください。
    * データの保存形式はJSON形式とします。

6.  **プリセットの複製:**
    * 既存のプリセットを複製する機能が必要です。複製時には、編成情報とタイムラインの情報もコピーしてください。

7.  **プリセットのコピー:**
    * あるプリセットの編成情報とタイムライン情報を、別の既存のプリセットに上書きコピーする機能が必要です。

8.  **プリセット名の編集と保存:**
    * 各プリセットには名前を設定でき、編集・保存できるようにしてください。
    * 同じ名前のプリセットを保存しようとした場合はエラーメッセージを表示するなど、同名での保存を禁止してください。

9.  **インポート・エクスポート:**
    * **プリセットごとのインポート・エクスポート:** 個別のプリセットとそのタイムラインをJSON形式でファイルとしてエクスポートし、またインポートできるようにしてください。
    * **すべてのプリセットのインポート・エクスポート:** 保存されているすべてのプリセットとそのタイムラインをまとめてJSON形式でファイルとしてエクスポートし、またインポートできるようにしてください。

**UIデザインの要素:**

* Material Designのガイドラインに沿った、シンプルで見やすいデザインを心がけてください。
* プリセットの一覧表示、編集画面、タイムライン表示などがスムーズに遷移できるように、適切なUIコンポーネントとレイアウトを使用してください。
* インポート・エクスポート機能のためのUI（ボタンやファイル選択など）も実装してください。

**技術的な考慮事項:**

* Reactの関数コンポーネントとHooks（`useState`, `useEffect`, `useRef`など）を積極的に使用してください。
* Material UI (`@mui/material`) を使用してUIコンポーネントを実装してください。
* 状態管理には、`useState`や`useContext`、または必要に応じてより高度な状態管理ライブラリ（Redux, Zustandなど）の使用も検討してください。
* `localStorage`へのデータの保存と読み込み処理を実装してください。
* JSON形式でのデータのシリアライズとデシリアライズを行ってください。
* ファイルのエクスポート・インポート処理を実装してください。

**出力形式:**

* 主要なReactコンポーネント（例：`App.js`、`PresetList.js`、`PresetEdit.js`、`Timeline.js`など）のコードをそれぞれのファイルに分けて記述してください。
* コンポーネント間のデータの流れ、状態管理の方法、`localStorage`へのアクセス方法、インポート・エクスポート処理の概要などをコメントで説明してください。
* 簡単な動作説明と、セットアップに必要な手順（例：`npm install react @mui/material @emotion/react @emotion/styled` など、必要に応じて追加のライブラリのインストール手順も）を加えてください。

**補足事項:**

* 今回はプロトタイプのため、詳細なエラーハンドリングや複雑なバリデーションは必須ではありませんが、基本的な動作が確認できるレベルで実装してください。
* ユーザーが複数のプリセットを管理し、それぞれのタイムラインを編集・保存・共有できることを重視してください。
* タイムラインライブラリを使用する場合は、その選定理由と、プリセットとの関連付け、データの保存・読み込みにおける注意点などを記述してください。
